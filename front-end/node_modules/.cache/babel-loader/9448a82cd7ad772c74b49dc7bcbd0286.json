{"ast":null,"code":"import _defineProperty from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/src/Components/Post.js\";\nimport React, { Component } from 'react';\nimport { FormGroup, ControlLabel, FormControl, DropdownButton, MenuItem, textarea } from 'react-bootstrap';\nimport '../styles/Post.css';\nimport axios from 'axios';\n\nvar Post =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Post, _Component);\n\n  function Post(props) {\n    var _this;\n\n    _classCallCheck(this, Post);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Post).call(this, props));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.categorySelect = _this.categorySelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNameChange = _this.handleNameChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDescriptionChange = _this.handleDescriptionChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      title: '',\n      post_content: '',\n      category: 'All'\n    };\n    return _this;\n  }\n\n  _createClass(Post, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handlePost\",\n    value: function handlePost(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n      alert(this.props.username);\n      var data = new FormData(event.target);\n      var content = this.state.post_content;\n      var title = this.state.title;\n      var category = this.state.category;\n      var username = this.props.username;\n\n      if (!this.state.title || !this.state.post_content) {\n        alert('Form not filled out properly');\n        return;\n      } //TODO check with nikhil what the spellings for all categories are\n\n\n      var post_data = {\n        \"queryType\": \"post_create\",\n        \"post_content\": content,\n        \"category\": category,\n        \"title\": title,\n        \"username\": username\n      }; //   var post_data = {\n      // \"password\":\"pwordtest1\",\n      // \"last_name\":\"Ray\",\n      // \"first_name\":\"Soumya\",\n      // \"queryType\":\"userCreate\",\n      // \"username\":\"sray\"\n      //   }\n\n      var ws = new WebSocket(\"ws://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\");\n\n      ws.onopen = function () {\n        console.log(\"sending data..\");\n        ws.send(JSON.stringify(post_data));\n        console.log(\"sent\");\n      };\n\n      ws.onmessage = function (evt) {\n        console.log(evt.data);\n      };\n\n      ws.onclose = function () {\n        console.log('connection closed');\n      };\n\n      ws.onerror = function (err) {\n        alert(\"Error: \" + err);\n      };\n    }\n  }, {\n    key: \"categorySelect\",\n    value: function categorySelect(eventKey) {\n      if (eventKey == 1) {\n        this.setState({\n          category: 'ALL'\n        });\n      } else if (eventKey == 2) {\n        this.setState({\n          category: 'SPORTS'\n        });\n      } else if (eventKey == 3) {\n        this.setState({\n          category: 'VIDEO GAMES'\n        });\n      } else {\n        this.setState({\n          category: 'MISC'\n        });\n      }\n    }\n  }, {\n    key: \"handleDescriptionChange\",\n    value: function handleDescriptionChange(e) {\n      this.setState({\n        post_content: e.target.value\n      });\n    }\n  }, {\n    key: \"handleNameChange\",\n    value: function handleNameChange(e) {\n      this.setState({\n        title: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return (//This will send data in a json format containing username, description and category\n        React.createElement(\"div\", {\n          className: \"post-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(FormGroup, {\n          controlId: \"formBasicText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(ControlLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, \" Enter event name here: \"), React.createElement(FormControl, {\n          type: \"text\",\n          placeholder: \"Pickup Basketball\",\n          onChange: this.handleNameChange,\n          bsSize: \"large\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }), React.createElement(ControlLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, \"Enter event description here: \"), React.createElement(FormControl, {\n          type: \"text\",\n          placeholder: \"Veale 5pm\",\n          onChange: this.handleDescriptionChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"category\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, \"Enter category: \"), React.createElement(\"div\", {\n          className: \"dropdownSelctor\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(DropdownButton, {\n          bsStyle: 'primary',\n          title: this.state.category,\n          key: 1,\n          id: \"dropdown-basic-\".concat(1),\n          noCaret: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(MenuItem, {\n          eventKey: \"1\",\n          onSelect: this.categorySelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \"All\"), React.createElement(MenuItem, {\n          eventKey: \"2\",\n          onSelect: this.categorySelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Sports\"), React.createElement(MenuItem, {\n          eventKey: \"3\",\n          onSelect: this.categorySelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"Video Games\"), React.createElement(MenuItem, {\n          eventKey: \"4\",\n          onSelect: this.categorySelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"Misc.\")))), React.createElement(\"button\", {\n          onClick: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \"Create Post\"))))\n      );\n    }\n  }]);\n\n  return Post;\n}(Component);\n\nexport default Post;","map":{"version":3,"sources":["/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/src/Components/Post.js"],"names":["React","Component","FormGroup","ControlLabel","FormControl","DropdownButton","MenuItem","textarea","axios","Post","props","handleSubmit","bind","categorySelect","handleNameChange","handleDescriptionChange","state","title","post_content","category","event","setState","target","name","value","preventDefault","alert","username","data","FormData","content","post_data","ws","WebSocket","onopen","console","log","send","JSON","stringify","onmessage","evt","onclose","onerror","err","eventKey","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {FormGroup, ControlLabel, FormControl, DropdownButton, MenuItem,textarea} from 'react-bootstrap';\nimport '../styles/Post.css';\nimport axios from 'axios';\n\nclass Post extends Component {\n\n\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.categorySelect = this.categorySelect.bind(this); \n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n    this.state = {\n        title: '',\n        post_content: '',\n        category: 'All',\n    }; \n    \n  }\n\n  handleChange (event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handlePost(event){\n    event.preventDefault();\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    alert(this.props.username);\n    const data = new FormData(event.target);\n    const content = this.state.post_content;\n    const title = this.state.title;\n    const category = this.state.category;\n    const username = this.props.username;\n\n    if (!this.state.title || !this.state.post_content){\n        alert('Form not filled out properly');\n        return;\n    }\n\n\n  //TODO check with nikhil what the spellings for all categories are\n    var post_data = {\n      \"queryType\" : \"post_create\",\n      \"post_content\" : content,\n      \"category\" : category,\n      \"title\" : title,\n      \"username\" : username\n    };\n\n  //   var post_data = {\n  // \"password\":\"pwordtest1\",\n  // \"last_name\":\"Ray\",\n  // \"first_name\":\"Soumya\",\n  // \"queryType\":\"userCreate\",\n  // \"username\":\"sray\"\n\n  //   }\n\n\n    var ws = new WebSocket(\"ws://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\");\n\n    ws.onopen = function() {\n        console.log(\"sending data..\");\n        ws.send(JSON.stringify(post_data));\n        console.log(\"sent\")\n    };\n\n    ws.onmessage = function (evt) {\n        console.log(evt.data);\n    };\n\n    ws.onclose = function() {\n      console.log('connection closed');\n    };\n\n    ws.onerror = function(err) {\n        alert(\"Error: \" + err);\n    };\n\n  } \n\n\n  categorySelect(eventKey){\n    if (eventKey == 1){\n      this.setState({category: 'ALL'});\n    }\n    else if (eventKey == 2){\n      this.setState({category: 'SPORTS'});\n    }\n    else if (eventKey == 3){\n      this.setState({category: 'VIDEO GAMES'});\n    }\n    else{\n        this.setState({category: 'MISC'});\n    }\n  }\n\n  handleDescriptionChange(e){\n    this.setState({post_content: e.target.value})\n  }\n\n  handleNameChange(e){\n    this.setState({title: e.target.value})\n  }\n\n \n\n  render() {\n    return (\n        //This will send data in a json format containing username, description and category\n    <div className=\"post-container\">\n      <div className=\"input-container\">\n        <form>\n          <FormGroup\n          controlId=\"formBasicText\"\n        >\n            <ControlLabel> Enter event name here: </ControlLabel>\n            <FormControl\n              type=\"text\"\n              placeholder=\"Pickup Basketball\"\n              onChange={this.handleNameChange}\n              bsSize=\"large\"\n              />\n            <ControlLabel>Enter event description here: </ControlLabel>\n            <FormControl\n              type=\"text\"\n              placeholder=\"Veale 5pm\"\n              onChange={this.handleDescriptionChange}\n            />\n          </FormGroup>\n          <div className=\"field\">\n          {/*need to do this in dropdown menu*/}\n            <label htmlFor=\"category\">Enter category: </label>\n              <div className=\"dropdownSelctor\">\n              <DropdownButton\n                  bsStyle={'primary'}\n                  title={this.state.category}\n                  key={1}\n                  id={`dropdown-basic-${1}`}\n                  noCaret\n                >\n                  <MenuItem eventKey=\"1\" onSelect={this.categorySelect}>All</MenuItem>\n                  <MenuItem eventKey=\"2\" onSelect={this.categorySelect}>Sports</MenuItem>\n                  <MenuItem eventKey=\"3\" onSelect={this.categorySelect}>Video Games</MenuItem>\n                  <MenuItem eventKey=\"4\" onSelect={this.categorySelect}>Misc.</MenuItem>\n                </DropdownButton>\n            </div> \n          </div>\n\n          <button onClick={this.handleSubmit}>Create Post</button>\n        </form>\n      </div>\n    </div>\n    );\n  }\n\n\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}