{"ast":null,"code":"import _defineProperty from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/src/Components/Post.js\";\nimport React, { Component } from 'react';\nimport { FormGroup, ControlLabel, FormControl, DropdownButton, MenuItem } from 'react-bootstrap';\nimport '../styles/Post.css';\nimport axios from 'axios';\n\nvar Post =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Post, _Component);\n\n  function Post() {\n    var _this;\n\n    _classCallCheck(this, Post);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Post).call(this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.categorySelect = _this.categorySelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      user: '',\n      post_content: '',\n      category: 'All'\n    };\n    return _this;\n  }\n\n  _createClass(Post, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handlePost\",\n    value: function handlePost(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n      var data = new FormData(event.target);\n      var user = this.refs.user.value.trim();\n      var des = this.refs.post_content.value.trim(); //    var cat = this.refs.category.value.trim();\n      //if empty and click submit, throw error\n\n      if (!user || !des) {\n        alert('Form not filled out properly');\n        return;\n      } //Fetch which will get the current users\n      //fetch('http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009', {mode: 'no-cors'}, {\n      //      method: 'GET',\n      //      body: JSON.stringify(data),\n      //      userCheck = response,\n      //    });\n\n\n      alert('Form being sent to backend'); //    //modifying html\n      //    document.getElementById(\"post\").innerHTML = user + \"  |   \" + des + \"   |   \" + cat;\n      //\n      //resetting the post fields\n\n      this.refs.user.value = '';\n      this.refs.post_content.value = ''; //    this.refs.category.value = '';\n      //when we build backend, will put url of backend here\n      //ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\n      //    fetch('http://172.20.14.152:2000', {mode: 'no-cors'}{\n      //      method: 'POST',\n      //      body: JSON.stringify(data),\n      //    });\n      //    fetch('http://172.20.14.152:80', {mode: 'no-cors'})\n      //      .then(function(response) {\n      //        return null;\n      //      })\n      //      .then(function(data) {\n      //        console.log(JSON.stringify(data));\n      //      });\n\n      var sampleData = {\n        \"password\": \"pwordtest1\",\n        \"last_name\": \"Ray\",\n        \"first_name\": \"Soumya\",\n        \"queryType\": \"userCreate\",\n        \"username\": \"sray\"\n      }; //    // Create WebSocket connection.\n      //    const socket = new WebSocket('ws://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009');\n      //\n      //    // Connection opened\n      //    socket.addEventListener('open', function (event) {\n      //        socket.send(\"(msg_start)\" + JSON.stringify(sampleData));\n      //    });\n      //\n      //    // Listen for messages\n      //    socket.addEventListener('message', function (event) {\n      //        console.log('Message from server ', event.data);\n      //    });\n\n      var ws = new WebSocket(\"ws://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\");\n\n      ws.onopen = function () {\n        alert(\"Opened!\");\n        ws.send(JSON.stringify(sampleData));\n      };\n\n      ws.onmessage = function (evt) {\n        console.log(evt.data);\n      };\n\n      ws.onclose = function () {\n        alert(\"Closed!\");\n      };\n\n      ws.onerror = function (err) {\n        alert(\"Error: \" + err);\n      }; //    var xhttp = new XMLHttpRequest();\n      //    xhttp.open(\"GET\", \"http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\", true);\n      //    //xhttp.setRequestHeader(\"Access-Control-Allow-Origin\", \"*\");\n      //    xhttp.send(\"(msg_start)\" + JSON.stringify(sampleData));\n      //    console.log(xhttp.statusText);\n      //    var result = xhttp.responseText;\n      //    console.log(result);\n      // var xhttp = new XMLHttpRequest();\n      // xhttp.open(\"POST\", \"http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\", true);\n      // xhttp.setRequestHeader(\"Access-Control-Allow-Origin\", \"*\");\n      // xhttp.send(\"(msg_start)\" + JSON.stringify(sampleData));\n      // console.log(xhttp.statusText);\n      // var result = xhttp.responseText;\n      // console.log(result);\n      //    fetch('http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:7000', {mode: 'no-cors'}, {\n      //      method: 'POST',\n      //      body: JSON.stringify(sampleData),\n      //    })\n      //    .then(response => response.json())\n      //    .then(response => console.log('Success: ', JSON.stringify(response)))\n      //    .catch(error => console.error('Error'));\n      // axios({\n      //      method: 'post',\n      //      url: 'http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009',\n      //      data: sampleData\n      //  })\n      //  .then(function (response) {\n      //      console.log(response);\n      //  })\n      //  .catch(function (response) {\n      //      console.log(response);\n      //  });\n\n    }\n  }, {\n    key: \"categorySelect\",\n    value: function categorySelect(eventKey) {\n      if (eventKey == 1) {\n        this.setState({\n          category: 'All'\n        });\n      } else if (eventKey == 2) {\n        this.setState({\n          category: 'Sports'\n        });\n      } else if (eventKey == 3) {\n        this.setState({\n          category: 'Video Games'\n        });\n      } else {\n        this.setState({\n          category: 'Misc.'\n        });\n      }\n    }\n  }, {\n    key: \"handleDescriptionChange\",\n    value: function handleDescriptionChange(e) {\n      this.setState({\n        post_content: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return (//This will send data in a json format containing username, description and category\n        React.createElement(\"div\", {\n          className: \"post-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(FormGroup, {\n          controlId: \"formBasicText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(FormControl, {\n          type: \"text\",\n          value: this.state.user,\n          placeholder: \"Pickup Basketbal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }), React.createElement(ControlLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \"Enter event description here\"), React.createElement(FormControl, {\n          type: \"text\",\n          value: this.state.post_content,\n          placeholder: \"Veale 5pm\",\n          onChange: this.handleDescriptionChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, \"Enter Name: \"), React.createElement(\"input\", {\n          ref: \"user\",\n          id: \"user\",\n          name: \"user\",\n          placeholder: \"Ex: Isaac's puppy\",\n          type: \"text\",\n          value: this.state.user,\n          onChange: function onChange(event) {\n            return _this2.handleChange(event);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"post_content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, \"Enter description of event: \"), React.createElement(\"input\", {\n          ref: \"post_content\",\n          id: \"post_content\",\n          placeholder: \"Ex: 5v5 pickup\",\n          name: \"post_content\",\n          type: \"text\",\n          value: this.state.post_content,\n          onChange: function onChange(event) {\n            return _this2.handleChange(event);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"category\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, \"Enter category: \"), React.createElement(\"div\", {\n          className: \"dropdownSelctor\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(DropdownButton, {\n          bsStyle: 'primary',\n          title: this.state.category,\n          key: 1,\n          id: \"dropdown-basic-\".concat(1),\n          noCaret: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, React.createElement(MenuItem, {\n          eventKey: \"1\",\n          onSelect: this.categorySelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, \"All\"), React.createElement(MenuItem, {\n          eventKey: \"2\",\n          onSelect: this.categorySelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, \"Sports\"), React.createElement(MenuItem, {\n          eventKey: \"3\",\n          onSelect: this.categorySelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"Video Games\"), React.createElement(MenuItem, {\n          eventKey: \"4\",\n          onSelect: this.categorySelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, \"Misc.\")))), React.createElement(\"button\", {\n          onClick: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, \"Create Post\"))))\n      );\n    }\n  }]);\n\n  return Post;\n}(Component);\n\nexport default Post;","map":{"version":3,"sources":["/Users/Vishal/Documents/EECS395_Senior_Proj/eecs395_fall2018_lfg/front-end/src/Components/Post.js"],"names":["React","Component","FormGroup","ControlLabel","FormControl","DropdownButton","MenuItem","axios","Post","handleSubmit","bind","categorySelect","state","user","post_content","category","event","setState","target","name","value","preventDefault","data","FormData","refs","trim","des","alert","sampleData","ws","WebSocket","onopen","send","JSON","stringify","onmessage","evt","console","log","onclose","onerror","err","eventKey","e","handleDescriptionChange","handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {FormGroup, ControlLabel, FormControl, DropdownButton, MenuItem,} from 'react-bootstrap';\nimport '../styles/Post.css';\nimport axios from 'axios';\n\nclass Post extends Component {\n\n\n  constructor() {\n    super();\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.categorySelect = this.categorySelect.bind(this); \n\n    this.state = {\n        user: '',\n        post_content: '',\n        category: 'All',\n    }; \n    \n  }\n\n  handleChange (event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handlePost(event){\n    event.preventDefault();\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const data = new FormData(event.target);\n\n\n    var user = this.refs.user.value.trim();\n    var des = this.refs.post_content.value.trim();\n//    var cat = this.refs.category.value.trim();\n\n    //if empty and click submit, throw error\n    if (!user || !des ){\n        alert('Form not filled out properly');\n        return;\n    }\n\n    //Fetch which will get the current users\n    //fetch('http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009', {mode: 'no-cors'}, {\n    //      method: 'GET',\n    //      body: JSON.stringify(data),\n    //      userCheck = response,\n    //    });\n\n    alert('Form being sent to backend');\n\n//    //modifying html\n//    document.getElementById(\"post\").innerHTML = user + \"  |   \" + des + \"   |   \" + cat;\n//\n    //resetting the post fields\n    this.refs.user.value = '';\n    this.refs.post_content.value = '';\n//    this.refs.category.value = '';\n\n\n    //when we build backend, will put url of backend here\n    //ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\n//    fetch('http://172.20.14.152:2000', {mode: 'no-cors'}{\n//      method: 'POST',\n//      body: JSON.stringify(data),\n//    });\n//    fetch('http://172.20.14.152:80', {mode: 'no-cors'})\n//      .then(function(response) {\n//        return null;\n//      })\n//      .then(function(data) {\n//        console.log(JSON.stringify(data));\n//      });\n\n     var sampleData = {\"password\":\"pwordtest1\",\"last_name\":\"Ray\",\"first_name\":\"Soumya\",\"queryType\":\"userCreate\",\"username\":\"sray\"};\n//    // Create WebSocket connection.\n//    const socket = new WebSocket('ws://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009');\n//\n//    // Connection opened\n//    socket.addEventListener('open', function (event) {\n//        socket.send(\"(msg_start)\" + JSON.stringify(sampleData));\n//    });\n//\n//    // Listen for messages\n//    socket.addEventListener('message', function (event) {\n//        console.log('Message from server ', event.data);\n//    });\n\n\n    var ws = new WebSocket(\"ws://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\");\n\n    ws.onopen = function() {\n        alert(\"Opened!\");\n        ws.send(JSON.stringify(sampleData));\n    };\n\n    ws.onmessage = function (evt) {\n        console.log(evt.data);\n    };\n\n    ws.onclose = function() {\n        alert(\"Closed!\");\n    };\n\n    ws.onerror = function(err) {\n        alert(\"Error: \" + err);\n    };\n\n\n//    var xhttp = new XMLHttpRequest();\n//    xhttp.open(\"GET\", \"http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\", true);\n//    //xhttp.setRequestHeader(\"Access-Control-Allow-Origin\", \"*\");\n//    xhttp.send(\"(msg_start)\" + JSON.stringify(sampleData));\n//    console.log(xhttp.statusText);\n//    var result = xhttp.responseText;\n//    console.log(result);\n\n    // var xhttp = new XMLHttpRequest();\n    // xhttp.open(\"POST\", \"http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009\", true);\n    // xhttp.setRequestHeader(\"Access-Control-Allow-Origin\", \"*\");\n    // xhttp.send(\"(msg_start)\" + JSON.stringify(sampleData));\n    // console.log(xhttp.statusText);\n    // var result = xhttp.responseText;\n    // console.log(result);\n//    fetch('http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:7000', {mode: 'no-cors'}, {\n//      method: 'POST',\n//      body: JSON.stringify(sampleData),\n//    })\n//    .then(response => response.json())\n//    .then(response => console.log('Success: ', JSON.stringify(response)))\n//    .catch(error => console.error('Error'));\n       // axios({\n       //      method: 'post',\n       //      url: 'http://ec2-18-191-25-105.us-east-2.compute.amazonaws.com:6009',\n       //      data: sampleData\n       //  })\n       //  .then(function (response) {\n       //      console.log(response);\n       //  })\n       //  .catch(function (response) {\n       //      console.log(response);\n       //  });\n  } \n\n\n  categorySelect(eventKey){\n    if (eventKey == 1){\n      this.setState({category: 'All'});\n    }\n    else if (eventKey == 2){\n      this.setState({category: 'Sports'});\n    }\n    else if (eventKey == 3){\n      this.setState({category: 'Video Games'});\n    }\n    else{\n        this.setState({category: 'Misc.'});\n    }\n  }\n\n  handleDescriptionChange(e){\n    this.setState({post_content: e.target.value})\n  }\n\n  render() {\n    return (\n        //This will send data in a json format containing username, description and category\n    <div className=\"post-container\">\n      <div className=\"input-container\">\n        <form onSubmit={this.handleSubmit}>\n          <FormGroup\n          controlId=\"formBasicText\"\n        >\n            <FormControl\n              type=\"text\"\n              value={this.state.user}\n              placeholder=\"Pickup Basketbal\"\n              />\n            <ControlLabel>Enter event description here</ControlLabel>\n            <FormControl\n              type=\"text\"\n              value={this.state.post_content}\n              placeholder=\"Veale 5pm\"\n              onChange={this.handleDescriptionChange}\n            />\n\n\n          </FormGroup>\n \n\n\n\n\n          <div className=\"field\">\n            <label htmlFor=\"user\">Enter Name: </label>\n            <input ref = \"user\" id=\"user\" name=\"user\" placeholder=\"Ex: Isaac's puppy\" type=\"text\" value = {this.state.user} onChange={event => this.handleChange(event)}/>\n          </div>\n\n          <div className=\"field\">\n            <label htmlFor=\"post_content\">Enter description of event: </label>\n            <input ref = \"post_content\" id=\"post_content\" placeholder=\"Ex: 5v5 pickup\" name=\"post_content\" type=\"text\" value = {this.state.post_content} onChange={event => this.handleChange(event)}/>\n          </div>\n\n          <div className=\"field\">\n          {/*need to do this in dropdown menu*/}\n            <label htmlFor=\"category\">Enter category: </label>\n              <div className=\"dropdownSelctor\">\n              <DropdownButton\n                  bsStyle={'primary'}\n                  title={this.state.category}\n                  key={1}\n                  id={`dropdown-basic-${1}`}\n                  noCaret\n                >\n                  <MenuItem eventKey=\"1\" onSelect={this.categorySelect}>All</MenuItem>\n                  <MenuItem eventKey=\"2\" onSelect={this.categorySelect}>Sports</MenuItem>\n                  <MenuItem eventKey=\"3\" onSelect={this.categorySelect}>Video Games</MenuItem>\n                  <MenuItem eventKey=\"4\" onSelect={this.categorySelect}>Misc.</MenuItem>\n                </DropdownButton>\n            </div> \n          </div>\n\n          <button onClick={this.handleSubmit}>Create Post</button>\n        </form>\n      </div>\n    </div>\n    );\n  }\n\n\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}